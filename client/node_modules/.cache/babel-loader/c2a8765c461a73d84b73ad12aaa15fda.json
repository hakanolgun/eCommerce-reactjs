{"ast":null,"code":"var _jsxFileName = \"/home/hakan/patika/patika-frontend-proje-ecommerce/client/src/pages/Admin/Products/index.js\",\n    _s = $RefreshSig$();\n\nimport { useMemo } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"react-query\";\nimport { fetchProductList, deleteProduct } from \"../../../api\";\nimport { Link } from \"react-router-dom\";\nimport { Text, Button, Flex } from \"@chakra-ui/react\";\nimport { Table, Popconfirm } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Products() {\n  _s();\n\n  const queryClient = useQueryClient();\n  const {\n    isLoading,\n    isError,\n    data,\n    error\n  } = useQuery(\"admin:products\", fetchProductList);\n  const deleteMutation = useMutation(deleteProduct, {\n    onSuccess: () => queryClient.invalidateQueries(\"admin:products\")\n  });\n  const columns = useMemo(() => {\n    return [{\n      title: \"Title\",\n      dataIndex: \"title\",\n      key: \"title\"\n    }, {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\"\n    }, {\n      title: \"Created At\",\n      dataIndex: \"createdAt\",\n      key: \"createdAt\"\n    }, {\n      title: \"Action\",\n      key: \"action\",\n      render: (text, record) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/admin/products/${record._id}`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"Are you sure?\",\n          onConfirm: () => {\n            deleteMutation.mutate(record._id, {\n              onSuccess: () => {\n                console.log(\"success\");\n              }\n            });\n          },\n          onCancel: () => console.log(\"iptal edildi\"),\n          okText: \"Yes\",\n          cancelText: \"No\",\n          placement: \"left\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/#\",\n            style: {\n              marginLeft: 10\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }];\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"2xl\",\n        p: \"5\",\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/products/new\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      dataSource: data,\n      columns: columns,\n      rowKey: \"_id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Products, \"t2rBjYepG55mjuzR/QR8XmeTuJU=\", false, function () {\n  return [useQueryClient, useQuery, useMutation];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["/home/hakan/patika/patika-frontend-proje-ecommerce/client/src/pages/Admin/Products/index.js"],"names":["useMemo","useQuery","useMutation","useQueryClient","fetchProductList","deleteProduct","Link","Text","Button","Flex","Table","Popconfirm","Products","queryClient","isLoading","isError","data","error","deleteMutation","onSuccess","invalidateQueries","columns","title","dataIndex","key","render","text","record","_id","mutate","console","log","marginLeft","message"],"mappings":";;;AAAA,SAASA,OAAT,QAAwB,OAAxB;AAEA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,cAAhC,QAAsD,aAAtD;AACA,SAASC,gBAAT,EAA2BC,aAA3B,QAAgD,cAAhD;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,IAAvB,QAAmC,kBAAnC;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,MAAlC;;;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AACnB,QAAMC,WAAW,GAAGV,cAAc,EAAlC;AAEA,QAAM;AAAEW,IAAAA,SAAF;AAAaC,IAAAA,OAAb;AAAsBC,IAAAA,IAAtB;AAA4BC,IAAAA;AAA5B,MAAsChB,QAAQ,CACnD,gBADmD,EAEnDG,gBAFmD,CAApD;AAKA,QAAMc,cAAc,GAAGhB,WAAW,CAACG,aAAD,EAAgB;AACjDc,IAAAA,SAAS,EAAE,MAAMN,WAAW,CAACO,iBAAZ,CAA8B,gBAA9B;AADgC,GAAhB,CAAlC;AAIA,QAAMC,OAAO,GAAGrB,OAAO,CAAC,MAAM;AAC7B,WAAO,CACN;AACCsB,MAAAA,KAAK,EAAE,OADR;AAECC,MAAAA,SAAS,EAAE,OAFZ;AAGCC,MAAAA,GAAG,EAAE;AAHN,KADM,EAMN;AACCF,MAAAA,KAAK,EAAE,OADR;AAECC,MAAAA,SAAS,EAAE,OAFZ;AAGCC,MAAAA,GAAG,EAAE;AAHN,KANM,EAWN;AACCF,MAAAA,KAAK,EAAE,YADR;AAECC,MAAAA,SAAS,EAAE,WAFZ;AAGCC,MAAAA,GAAG,EAAE;AAHN,KAXM,EAgBN;AACCF,MAAAA,KAAK,EAAE,QADR;AAECE,MAAAA,GAAG,EAAE,QAFN;AAGCC,MAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,MAAP,kBACP;AAAA,gCACC,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,mBAAkBA,MAAM,CAACC,GAAI,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,UAAD;AACC,UAAA,KAAK,EAAC,eADP;AAEC,UAAA,SAAS,EAAE,MAAM;AAChBV,YAAAA,cAAc,CAACW,MAAf,CAAsBF,MAAM,CAACC,GAA7B,EAAkC;AACjCT,cAAAA,SAAS,EAAE,MAAM;AAChBW,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA;AAHgC,aAAlC;AAKA,WARF;AASC,UAAA,QAAQ,EAAE,MAAMD,OAAO,CAACC,GAAR,CAAY,cAAZ,CATjB;AAUC,UAAA,MAAM,EAAC,KAVR;AAWC,UAAA,UAAU,EAAC,IAXZ;AAYC,UAAA,SAAS,EAAC,MAZX;AAAA,iCAcC;AAAG,YAAA,IAAI,EAAC,IAAR;AAAa,YAAA,KAAK,EAAE;AAAEC,cAAAA,UAAU,EAAE;AAAd,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdD;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAJF,KAhBM,CAAP;AA4CA,GA7CsB,EA6CpB,EA7CoB,CAAvB;;AA+CA,MAAIlB,SAAJ,EAAe;AACd,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACA;;AAED,MAAIC,OAAJ,EAAa;AACZ,wBAAO;AAAA,2BAAYE,KAAK,CAACgB,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACA;;AAED,sBACC;AAAA,4BACC,QAAC,IAAD;AAAM,MAAA,cAAc,EAAC,eAArB;AAAqC,MAAA,UAAU,EAAC,QAAhD;AAAA,8BACC,QAAC,IAAD;AAAM,QAAA,QAAQ,EAAC,KAAf;AAAqB,QAAA,CAAC,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAKC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,qBAAT;AAAA,+BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cALD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAWC,QAAC,KAAD;AAAO,MAAA,UAAU,EAAEjB,IAAnB;AAAyB,MAAA,OAAO,EAAEK,OAAlC;AAA2C,MAAA,MAAM,EAAC;AAAlD;AAAA;AAAA;AAAA;AAAA,YAXD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAeA;;GAlFQT,Q;UACYT,c,EAEwBF,Q,EAKrBC,W;;;KARfU,Q;AAoFT,eAAeA,QAAf","sourcesContent":["import { useMemo } from \"react\";\n\nimport { useQuery, useMutation, useQueryClient } from \"react-query\";\nimport { fetchProductList, deleteProduct } from \"../../../api\";\n\nimport { Link } from \"react-router-dom\";\nimport { Text, Button, Flex } from \"@chakra-ui/react\";\nimport { Table, Popconfirm } from \"antd\";\n\nfunction Products() {\n\tconst queryClient = useQueryClient();\n\n\tconst { isLoading, isError, data, error } = useQuery(\n\t\t\"admin:products\",\n\t\tfetchProductList\n\t);\n\n\tconst deleteMutation = useMutation(deleteProduct, {\n\t\tonSuccess: () => queryClient.invalidateQueries(\"admin:products\"),\n\t});\n\n\tconst columns = useMemo(() => {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: \"Title\",\n\t\t\t\tdataIndex: \"title\",\n\t\t\t\tkey: \"title\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Price\",\n\t\t\t\tdataIndex: \"price\",\n\t\t\t\tkey: \"price\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Created At\",\n\t\t\t\tdataIndex: \"createdAt\",\n\t\t\t\tkey: \"createdAt\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Action\",\n\t\t\t\tkey: \"action\",\n\t\t\t\trender: (text, record) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Link to={`/admin/products/${record._id}`}>Edit</Link>\n\t\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\t\t\t\tonConfirm={() => {\n\t\t\t\t\t\t\t\tdeleteMutation.mutate(record._id, {\n\t\t\t\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"success\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonCancel={() => console.log(\"iptal edildi\")}\n\t\t\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\t\t\tcancelText=\"No\"\n\t\t\t\t\t\t\tplacement=\"left\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a href=\"/#\" style={{ marginLeft: 10 }}>\n\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</Popconfirm>\n\t\t\t\t\t</>\n\t\t\t\t),\n\t\t\t},\n\t\t];\n\t}, []);\n\n\tif (isLoading) {\n\t\treturn <div>Loading...</div>;\n\t}\n\n\tif (isError) {\n\t\treturn <div>Error {error.message}</div>;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Flex justifyContent=\"space-between\" alignItems=\"center\">\n\t\t\t\t<Text fontSize=\"2xl\" p=\"5\">\n\t\t\t\t\tProducts\n\t\t\t\t</Text>\n\n\t\t\t\t<Link to=\"/admin/products/new\">\n\t\t\t\t\t<Button>New</Button>\n\t\t\t\t</Link>\n\t\t\t</Flex>\n\n\t\t\t<Table dataSource={data} columns={columns} rowKey=\"_id\" />\n\t\t</div>\n\t);\n}\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}